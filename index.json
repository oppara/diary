[{"content":"å•é¡Œ Mac ã§ä¼šç¤¾ã® VPN è¨­å®šã‚’ã—ã¦ã‚‚ã€IP ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒä¼šç¤¾ã®ã‚‚ã®ã«åˆ‡ã‚Šæ›¿ã‚ã‚‰ãªã„ã€‚\nå¯¾å¿œæ–¹æ³•  ã€Œã‚·ã‚¹ãƒ†ãƒ ç’°å¢ƒè¨­å®šã€ -\u0026gt; ã€Œãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã€ã§è¨­å®šã—ãŸ VPN è¨­å®šã® [è©³ç´°\u0026hellip;] ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ ã€Œã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€ã‚¿ãƒ–å†…ã®ã€Œã™ã¹ã¦ã®ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚’ VPN æ¥ç¶šçµŒç”±ã§é€ä¿¡ã€ã‚’ãƒã‚§ãƒƒã‚¯  ç’°å¢ƒ % sw_vers ProductName: macOS ProductVersion: 12.4 BuildVersion: 21F79 ","permalink":"https://d.oppara.tv/posts/2022/09/mac-vpn/","summary":"å•é¡Œ Mac ã§ä¼šç¤¾ã® VPN è¨­å®šã‚’ã—ã¦ã‚‚ã€IP ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒä¼šç¤¾ã®ã‚‚ã®ã«åˆ‡ã‚Šæ›¿ã‚ã‚‰ãªã„ã€‚ å¯¾å¿œæ–¹æ³• ã€Œã‚·ã‚¹ãƒ†ãƒ ç’°å¢ƒè¨­å®šã€ -\u0026gt; ã€Œãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã€ã§è¨­å®šã—ãŸ VPN è¨­å®šã® [è©³","title":"VPN æ¥ç¶šã—ã¦ã‚‚ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒå¤‰ã‚ã‚‰ãªã„ä»¶"},{"content":"ã‚„ã‚Šæ–¹ aws-vault ã‚’åˆ©ç”¨ã—ã€EC2 ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³ã‚’è¡Œã†å ´åˆã€‚\n% aws-vault exec opp-dev -- trivy aws --service ec2 ãƒ˜ãƒ«ãƒ— % trivy aws --help å‚è€ƒã‚µã‚¤ãƒˆ  Trivyã§AWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸ | DevelopersIO  ç’°å¢ƒ % sw_vers ProductName: macOS ProductVersion: 12.4 BuildVersion: 21F79 % trivy --version Version: 0.31.2 ","permalink":"https://d.oppara.tv/posts/2022/08/aws-trivy/","summary":"ã‚„ã‚Šæ–¹ aws-vault ã‚’åˆ©ç”¨ã—ã€EC2 ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³ã‚’è¡Œã†å ´åˆã€‚ % aws-vault exec opp-dev -- trivy aws --service ec2 ãƒ˜ãƒ«ãƒ— % trivy aws --help å‚è€ƒã‚µã‚¤ãƒˆ Trivyã§AWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ã‚»ã‚­ãƒ¥ãƒªãƒ†","title":"Trivy ã§ AWS ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³ã‚’è¡Œã†"},{"content":"ç›®çš„ DynamoDB ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ä½¿ã„ãŸã„ã€‚\nå¯¾å¿œæ–¹æ³• DynamoDB ãƒ­ãƒ¼ã‚«ãƒ«ã‚’ Docker ã§å‹•ã‹ã™\nversion: \u0026#39;3.8\u0026#39; services:  dynamodb-local:  command: \u0026#34;-jar DynamoDBLocal.jar -sharedDb -dbPath ./data\u0026#34;  image: \u0026#34;amazon/dynamodb-local:latest\u0026#34;  container_name: dynamodb-local  ports:  - \u0026#34;8888:8000\u0026#34;  volumes:  - \u0026#34;./docker/dynamodb:/home/dynamodblocal/data\u0026#34;  working_dir: /home/dynamodblocal èµ·å‹• % docker-compose up -d ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã—ã¦ã¿ã‚‹ % export AWS_DEFAULT_REGION=us-west-2 % export ENDPOINT=\u0026#34;http://localhost:8888\u0026#34; % aws dynamodb create-table \\  --table-name sessions \\  --endpoint-url \u0026#34;${ENDPOINT}\u0026#34; \\  --attribute-definitions \\  AttributeName=id,AttributeType=S \\  --key-schema \\  AttributeName=id,KeyType=HASH \\  --billing-mode PAY_PER_REQUEST \\  --table-class STANDARD ç’°å¢ƒ % sw_vers ProductName: macOS ProductVersion: 12.4 BuildVersion: 21F79 ","permalink":"https://d.oppara.tv/posts/2022/06/aws-dynamodb-local/","summary":"ç›®çš„ DynamoDB ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ä½¿ã„ãŸã„ã€‚ å¯¾å¿œæ–¹æ³• DynamoDB ãƒ­ãƒ¼ã‚«ãƒ«ã‚’ Docker ã§å‹•ã‹ã™ version: \u0026#39;3.8\u0026#39; services: dynamodb-local: command: \u0026#34;-jar DynamoDBLocal.jar -sharedDb -dbPath ./data\u0026#34; image: \u0026#34;amazon/dynamodb-local:latest\u0026#34; container_name: dynamodb-local ports: - \u0026#34;8888:8000\u0026#34; volumes: - \u0026#34;./docker/dynamodb:/home/dynamodblocal/data\u0026#34; working_dir: /home/dynamodblocal èµ·å‹• % docker-compose up -d ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã—ã¦ã¿ã‚‹","title":"DynamoDB ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ä½¿ã„ãŸã„"},{"content":"ã¯ã˜ã‚ã« Wranglerï¼ˆWorkers CLIï¼‰ã‚’ä½¿ã£ã¦ Cloudflare Workers ã‚’è©¦ã—ã¦ã¿ã‚‹ã€‚\nWrangler ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« % npm install -g wrangler Cloudflare ã®èªè¨¼ 2 æ®µéšèªè¨¼ã«ã‚‚ãŸã‚‚ãŸã—ã¦ãŸã‚‰ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¦ã—ã¾ã£ãŸã€‚\n% wrangler login  â›…ï¸ wrangler 2.0.5 ------------------- Attempting to login via OAuth... âœ˜ [ERROR] Timed out waiting for authorization code, please try again. ã‚‚ã†ä¸€åº¦ã€‚\n% wrangler login  â›…ï¸ wrangler 2.0.5 ------------------- Attempting to login via OAuth... ãƒ–ãƒ©ã‚¦ã‚¶ãŒèµ·å‹•ã—ã€ãƒ­ã‚°ã‚¤ãƒ³ã€2 æ®µéšèªè¨¼ã‚’é€šéã™ã‚‹ã¨ä»¥ä¸‹ã®ç”»é¢ã«ãªã‚‹ã®ã§ã€å•é¡Œãªã‘ã‚Œã°[Allow]ã‚’ã‚¯ãƒªãƒƒã‚¯ã€‚   æ‰¿èªã€‚   ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ % wrangler init my-worker -y ä¸­èº«ç¢ºèªã€‚\n% ls -1F my-worker node_modules/ package-lock.json package.json src/ tsconfig.json wrangler.toml % cat my-worker/src/index.ts /**  * Welcome to Cloudflare Workers! This is your first worker.  *  * - Run `wrangler dev src/index.ts` in your terminal to start a development server  * - Open a browser tab at http://localhost:8787/ to see your worker in action  * - Run `wrangler publish src/index.ts --name my-worker` to publish your worker  *  * Learn more at https://developers.cloudflare.com/workers/  */ export default {  async fetch(request: Request): Promise\u0026lt;Response\u0026gt; {  return new Response(\u0026#34;Hello World!\u0026#34;);  }, }; ãƒ­ãƒ¼ã‚«ãƒ«ã§å®Ÿè¡Œ % cd my-worker % wrangler dev # ã¾ãŸã¯ npm start \u0026gt; my-worker@0.0.0 start \u0026gt; wrangler dev  â›…ï¸ wrangler 2.0.5 ------------------- â¬£ Listening at http://localhost:59598 â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•® â”‚ [b] open a browser, [d] open Devtools, [l] turn off local mode, [c] clear console, [x] to exit â”‚ â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯ ãƒ‡ãƒ—ãƒ­ã‚¤ % wrangler publish # ã¾ãŸã¯ npm run publish  â›…ï¸ wrangler 2.0.5 ------------------- Uploaded my-worker (0.61 sec) Published my-worker (3.61 sec)  my-worker.oppara.workers.dev å‹•ä½œç¢ºèª % curl https://my-worker.oppara.workers.dev Hello World! ãƒ­ã‚°ãŒè¦‹ã‚Œã‚‹ã€‚\n% wrangler tail  â›…ï¸ wrangler 2.0.5 ------------------- Successfully created tail, expires at 2022-05-17T20:19:21Z Connected to my-worker, waiting for logs... GET https://my-worker.oppara.workers.dev/ - Ok @ 5/17/2022, 11:19:47 PM å‚è€ƒã‚µã‚¤ãƒˆ  Wrangler (command line) Â· Cloudflare Workers docs Get started guide Â· Cloudflare Workers docs  ç’°å¢ƒ % wrangler --version 2.0.5 % sw_vers ProductName: macOS ProductVersion: 12.3.1 BuildVersion: 21E258 ","permalink":"https://d.oppara.tv/posts/2022/05/wrangler-cloudflare-workers/","summary":"ã¯ã˜ã‚ã« Wranglerï¼ˆWorkers CLIï¼‰ã‚’ä½¿ã£ã¦ Cloudflare Workers ã‚’è©¦ã—ã¦ã¿ã‚‹ã€‚ Wrangler ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« % npm install -g wrangler Cloudflare ã®èªè¨¼ 2 æ®µéšèªè¨¼ã«ã‚‚ãŸã‚‚ãŸã—ã¦ãŸã‚‰ã‚¿ã‚¤","title":"Wrangler ã§ Cloudflare Workers"},{"content":"å•é¡Œ npx å®Ÿè¡Œæ™‚ã«yã¨ãŸãŸãã®ãŒé¢å€’ã€ã‚‚ã—ãã¯ãŸãŸãã“ã¨è‡ªä½“ã‚’å¿˜ã‚Œã¦ã—ã¾ã†ã€‚\n% npx cowsay foo Need to install the following packages:  cowsay Ok to proceed? (y) å¯¾å¿œæ–¹æ³• --yesã‚’ã¤ã‘ã‚‹ã€‚(ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æœ‰åŠ¹ã«ã™ã‚‹?)\n% npx --yes cowsay foo  _____ \u0026lt; foo \u0026gt;  -----  \\ ^__^  \\ (oo)\\_______  (__)\\ )\\/\\  ||----w |  || || ä»¥å¾Œã€--yesã‚’ã¤ã‘ãªãã¦ã‚‚Ok to proceed? (y)ã¯è¡¨ç¤ºã•ã‚Œãªã„ã€‚\n% npx cowsay foo  _____ \u0026lt; foo \u0026gt;  -----  \\ ^__^  \\ (oo)\\_______  (__)\\ )\\/\\  ||----w |  || || ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹ã¨ã€Ok to proceed? (y)ãŒå¾©æ´»ã™ã‚‹ã€‚\n% npx --yes clear-npx-cache % npx cowsay foo Need to install the following packages:  cowsay Ok to proceed? (y)  _____ \u0026lt; foo \u0026gt;  -----  \\ ^__^  \\ (oo)\\_______  (__)\\ )\\/\\  ||----w |  || || ã¾ã¨ã‚ --yes 5 æ–‡å­—ã‹ã€y 1 æ–‡å­—ã‹\u0026hellip;\nå‚è€ƒã‚µã‚¤ãƒˆ  npx | npm Docs  ç’°å¢ƒ % npm --version 8.6.0 ","permalink":"https://d.oppara.tv/posts/2022/05/npx-not-show-ok-to-proceed/","summary":"å•é¡Œ npx å®Ÿè¡Œæ™‚ã«yã¨ãŸãŸãã®ãŒé¢å€’ã€ã‚‚ã—ãã¯ãŸãŸãã“ã¨è‡ªä½“ã‚’å¿˜ã‚Œã¦ã—ã¾ã†ã€‚ % npx cowsay foo Need to install the following packages: cowsay Ok to proceed? (y) å¯¾å¿œæ–¹æ³• --yesã‚’ã¤ã‘ã‚‹ã€‚(ã‚­ãƒ£ãƒƒã‚·","title":"npx å®Ÿè¡Œæ™‚ã« Ok to proceed? (y) ã¨è¡¨ç¤ºã•ã›ãªã„"},{"content":"ç›®çš„ Brewfile ã‚³ãƒ¡ãƒ³ãƒˆä»˜ãã§ä¸Šæ›¸ãã—ãŸã„ã€‚\nã‚„ã‚Šæ–¹ % brew bundle dump --force --describe ãƒ˜ãƒ«ãƒ—è¡¨ç¤º % brew bundle --help ç’°å¢ƒ % brew --version Homebrew 3.4.8-11-g96e8796 Homebrew/homebrew-core (git revision 44fc63c8cca; last commit 2022-04-25) Homebrew/homebrew-cask (git revision 659584ba8c; last commit 2022-04-26) % sw_vers ProductName: macOS ProductVersion: 12.3.1 BuildVersion: 21E258 ","permalink":"https://d.oppara.tv/posts/2022/04/brew-bundle-dump/","summary":"ç›®çš„ Brewfile ã‚³ãƒ¡ãƒ³ãƒˆä»˜ãã§ä¸Šæ›¸ãã—ãŸã„ã€‚ ã‚„ã‚Šæ–¹ % brew bundle dump --force --describe ãƒ˜ãƒ«ãƒ—è¡¨ç¤º % brew bundle --help ç’°å¢ƒ % brew --version Homebrew 3.4.8-11-g96e8796 Homebrew/homebrew-core (git revision 44fc63c8cca; last commit 2022-04-25) Homebrew/homebrew-cask (git revision 659584ba8c; last commit 2022-04-26) % sw_vers ProductName: macOS ProductVersion: 12.3.1 BuildVersion: 21E258","title":"Brewfile ã‚’ä¸Šæ›¸ãã—ãŸã„"},{"content":"ã¯ã˜ã‚ã« ãƒãƒã‚³ãƒ³ã‹ã‚‰ã®å†ã‚¤ãƒ³ãƒãƒ¼ãƒˆãŒé¢å€’ãã•ã‹ã£ãŸã®ã§å‚™å¿˜éŒ²ã€‚\nå¯¾å¿œæ–¹æ³• ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‹ã‚‰å®Ÿè¡Œã™ã‚‹ã€‚\n#!/bin/bash set -eu  # ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹è¨¼æ˜æ›¸ã® ARN ARN=\u0026#34;arn:aws:acm:region:123456789012:certificate/12345678-1234-1234-1234-12345678901\t\u0026#34;  # è¨¼æ˜æ›¸ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ãƒ‘ã‚¹ CRT=\u0026#34;Certificate.pem\u0026#34;  # ä¸­é–“è¨¼æ˜æ›¸ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ãƒ‘ã‚¹ CC=\u0026#34;CertificateChain.pem\u0026#34;  # ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç„¡ã—ã®ç§˜å¯†éµã¸ã®ãƒ‘ã‚¹ KEY=\u0026#34;PrivateKey.pem\u0026#34;  # ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ REGION=\u0026#34;us-east-1\u0026#34;  aws acm import-certificate \\  --certificate fileb://\u0026#34;${CRT}\u0026#34; \\  --certificate-chain fileb://\u0026#34;${CC}\u0026#34; \\  --private-key fileb://\u0026#34;${KEY}\u0026#34; \\  --certificate-arn \u0026#34;${ARN}\u0026#34; \\  --region \u0026#34;${REGION}\u0026#34; å‚è€ƒã‚µã‚¤ãƒˆ  è¨¼æ˜æ›¸ã‚’å†ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ - AWS Certificate Manager import-certificate â€” AWS CLI 2.5.8 Command Reference  ç’°å¢ƒ % aws --version aws-cli/2.5.8 Python/3.9.12 Darwin/21.4.0 source/x86_64 prompt/off ","permalink":"https://d.oppara.tv/posts/2022/04/aws-acm-import-certificate/","summary":"ã¯ã˜ã‚ã« ãƒãƒã‚³ãƒ³ã‹ã‚‰ã®å†ã‚¤ãƒ³ãƒãƒ¼ãƒˆãŒé¢å€’ãã•ã‹ã£ãŸã®ã§å‚™å¿˜éŒ²ã€‚ å¯¾å¿œæ–¹æ³• ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‹ã‚‰å®Ÿè¡Œã™ã‚‹ã€‚ #!/bin/bash set -eu # ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹è¨¼æ˜æ›¸ã® ARN ARN=\u0026#34;arn:aws:acm:region:123456789012:certificate/12345678-1234-1234-1234-12345678901 \u0026#34; # è¨¼","title":"AWS CLI ã§è¨¼æ˜æ›¸ã®å†ã‚¤ãƒ³ãƒãƒ¼ãƒˆ"},{"content":"ã¯ã˜ã‚ã« WP-CLI ã§ãƒ†ãƒ¼ãƒ–ãƒ«å†…ã®æ–‡å­—åˆ—ã‚’ç½®æ›ã™ã‚‹ã€‚\nã‚„ã‚Šæ–¹ ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ãŒwp_ã®ãƒ†ãƒ¼ãƒ–ãƒ«å†…ã®searchã‚’replaceã«ç½®æ›ã—ã¦outã«æ›¸ãå‡ºã™ã€‚\n#!/bin/bash set -eu  path=\u0026#34;wp-config.php ãŒã‚ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¾ã§ã®ãƒ‘ã‚¹\u0026#34; search=\u0026#34;https://stg.example.com\u0026#34; replace=\u0026#34;https://www.example.com\u0026#34; out=\u0026#34;export.sql\u0026#34;  /path/to/wp search-replace --path=\u0026#34;${path}\u0026#34; \u0026#34;${search}\u0026#34; \u0026#34;${replace}\u0026#34; wp_* \\ --export=\u0026#34;${out}\u0026#34; \\ --report-changed-only \\ --all-tables-with-prefix --exportã‚’ã¤ã‘ãªã„å ´åˆã¯ãƒ†ãƒ¼ãƒ–ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã˜ã‹ã«ç½®æ›ã™ã‚‹ã®ã§ã€å®Ÿè¡Œå‰ã«--dry-runã‚’å¿˜ã‚Œãªã„ã€‚\nå‚è€ƒã‚µã‚¤ãƒˆ  wp search-replace | WP-CLI Command | WordPress Developer Resources  ç’°å¢ƒ % php wp --version WP-CLI 2.6.0 ","permalink":"https://d.oppara.tv/posts/2022/04/wp-search-replace/","summary":"ã¯ã˜ã‚ã« WP-CLI ã§ãƒ†ãƒ¼ãƒ–ãƒ«å†…ã®æ–‡å­—åˆ—ã‚’ç½®æ›ã™ã‚‹ã€‚ ã‚„ã‚Šæ–¹ ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ãŒwp_ã®ãƒ†ãƒ¼ãƒ–ãƒ«å†…ã®searchã‚’replaceã«ç½®æ›ã—ã¦outã«æ›¸ãå‡ºã™ã€‚","title":"WP-CLI ã§ãƒ†ãƒ¼ãƒ–ãƒ«å†…ã®æ–‡å­—åˆ—ã‚’ç½®æ›ã™ã‚‹"},{"content":"ç›®çš„ mail ã‚³ãƒãƒ³ãƒ‰ã§å¯¾è©±çš„ã«ãƒ¡ãƒ¼ãƒ«ã‚’é€ã‚‹ã®ãŒé¢å€’ã ã£ãŸã®ã§å‚™å¿˜éŒ²ã€‚\nå¯¾å¿œæ–¹æ³• % echo \u0026#34;æœ¬æ–‡\u0026#34; | mail -s \u0026#34;ä»¶å\u0026#34; -r no-replay@example.com foo@oppara.tv bar@oppara.tv ç’°å¢ƒ $ mail -V 12.5 7/5/10 $ cat /etc/os-release NAME=\u0026#34;Rocky Linux\u0026#34; VERSION=\u0026#34;8.5 (Green Obsidian)\u0026#34; ID=\u0026#34;rocky\u0026#34; ID_LIKE=\u0026#34;rhel centos fedora\u0026#34; VERSION_ID=\u0026#34;8.5\u0026#34; PLATFORM_ID=\u0026#34;platform:el8\u0026#34; PRETTY_NAME=\u0026#34;Rocky Linux 8.5 (Green Obsidian)\u0026#34; ANSI_COLOR=\u0026#34;0;32\u0026#34; CPE_NAME=\u0026#34;cpe:/o:rocky:rocky:8:GA\u0026#34; HOME_URL=\u0026#34;https://rockylinux.org/\u0026#34; BUG_REPORT_URL=\u0026#34;https://bugs.rockylinux.org/\u0026#34; ROCKY_SUPPORT_PRODUCT=\u0026#34;Rocky Linux\u0026#34; ROCKY_SUPPORT_PRODUCT_VERSION=\u0026#34;8\u0026#34; ","permalink":"https://d.oppara.tv/posts/2022/04/mail-one-liner/","summary":"ç›®çš„ mail ã‚³ãƒãƒ³ãƒ‰ã§å¯¾è©±çš„ã«ãƒ¡ãƒ¼ãƒ«ã‚’é€ã‚‹ã®ãŒé¢å€’ã ã£ãŸã®ã§å‚™å¿˜éŒ²ã€‚ å¯¾å¿œæ–¹æ³• % echo \u0026#34;æœ¬æ–‡\u0026#34; | mail -s \u0026#34;ä»¶å\u0026#34; -r no-replay@example.com foo@oppara.tv bar@oppara.tv ç’°å¢ƒ","title":"ãƒ¡ãƒ¼ãƒ«é€ä¿¡ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼"},{"content":"ç›®çš„ Actions æ™‚ã«å‘¼ã³å‡ºã™ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã§ã€Actions æ™‚ã§ãªãã¦ã‚‚ãƒ–ãƒ©ãƒ³ãƒåã‚’åˆ©ç”¨ã—ãŸã„ã€‚\nå¯¾å¿œæ–¹æ³• #!/bin/bash set -Ceu  if [ \u0026#34;${GITHUB_REF_NAME:-UNDEF}\u0026#34; = \u0026#34;UNDEF\u0026#34; ]; then  GITHUB_REF_NAME=$(git rev-parse --abbrev-ref HEAD) fi å‚è€ƒã‚µã‚¤ãƒˆ  ç’°å¢ƒå¤‰æ•° - GitHub Docs  ","permalink":"https://d.oppara.tv/posts/2022/04/github-actions-git-branch/","summary":"ç›®çš„ Actions æ™‚ã«å‘¼ã³å‡ºã™ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã§ã€Actions æ™‚ã§ãªãã¦ã‚‚ãƒ–ãƒ©ãƒ³ãƒåã‚’åˆ©ç”¨ã—ãŸã„ã€‚ å¯¾å¿œæ–¹æ³• #!/bin/bash set -Ceu if [ \u0026#34;${GITHUB_REF_NAME:-UNDEF}\u0026#34; = \u0026#34;UNDEF\u0026#34; ]; then GITHUB_REF_NAME=$(git rev-parse --abbrev-ref HEAD) fi å‚è€ƒã‚µã‚¤ãƒˆ ç’°","title":"GitHub Actions æ™‚ã§ãªãã¦ã‚‚ãƒ–ãƒ©ãƒ³ãƒåã‚’åˆ©ç”¨ã—ãŸã„"},{"content":"ç›®çš„ CI æ™‚ã«å‘¼ã³å‡ºã™ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã§ã€CI æ™‚ã§ãªãã¦ã‚‚ãƒ–ãƒ©ãƒ³ãƒåã‚’åˆ©ç”¨ã—ãŸã„ã€‚\nå¯¾å¿œæ–¹æ³• #!/bin/bash set -Ceu  if [ \u0026#34;${CI_COMMIT_REF_NAME:-UNDEF}\u0026#34; = \u0026#34;UNDEF\u0026#34; ]; then  CI_COMMIT_REF_NAME=$(git rev-parse --abbrev-ref HEAD) fi  ## ä»¥ä¸‹ã®æ›¸ãæ–¹ã¯ GitLab 16.0 ä»¥é™ä½¿ãˆãªããªã‚‹ # if [ \u0026#34;${CI_BUILD_REF_NAME:-UNDEF}\u0026#34; = \u0026#34;UNDEF\u0026#34; ]; then # CI_BUILD_REF_NAME=$(git rev-parse --abbrev-ref HEAD) # fi bash ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³  C: ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆæ™‚ã«æ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¸Šæ›¸ãã—ãªã„ã€‚ e: ã‚³ãƒãƒ³ãƒ‰ãŒã‚¼ãƒ­ä»¥å¤–ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’è¿”ã—ãŸå ´åˆã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å³åº§ã«çµ‚äº†ã™ã‚‹ã€‚ u: æœªå®šç¾©ã®å¤‰æ•°ã‚’å‚ç…§æ™‚ã«ã‚¨ãƒ©ãƒ¼ã€‚  å‚è€ƒã‚µã‚¤ãƒˆ  Deprecations by milestone | GitLab  ","permalink":"https://d.oppara.tv/posts/2022/04/gitlab-ci-git-branch/","summary":"ç›®çš„ CI æ™‚ã«å‘¼ã³å‡ºã™ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã§ã€CI æ™‚ã§ãªãã¦ã‚‚ãƒ–ãƒ©ãƒ³ãƒåã‚’åˆ©ç”¨ã—ãŸã„ã€‚ å¯¾å¿œæ–¹æ³• #!/bin/bash set -Ceu if [ \u0026#34;${CI_COMMIT_REF_NAME:-UNDEF}\u0026#34; = \u0026#34;UNDEF\u0026#34; ]; then CI_COMMIT_REF_NAME=$(git rev-parse --abbrev-ref HEAD) fi ## ä»¥ä¸‹ã®æ›¸ãæ–¹ã¯ GitLab 16.0 ä»¥","title":"GitLab CI æ™‚ã§ãªãã¦ã‚‚ãƒ–ãƒ©ãƒ³ãƒåã‚’åˆ©ç”¨ã—ãŸã„"},{"content":"å•é¡Œ Windows ã§ rsync ã‚’ä½¿ã„ãŸã„ã€‚ ã§ã‚‚ WSL ã‚’ä½¿ã†ã»ã©ã§ã‚‚ãªã„ã€‚\nå¯¾å¿œæ–¹æ³• Git for Windows ã« rsync ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã€‚\n ã‚¹ã‚¿ãƒ¼ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ã€ŒGit Bashã€ã‚’å³ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ã€Œç®¡ç†è€…ã¨ã—ã¦å®Ÿè¡Œã€ã™ã‚‹ã€‚ ä»¥ä¸‹ã®ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã€‚  #!/usr/bin/bash set -eu  curl -L http://repo.msys2.org/msys/x86_64/zstd-1.4.5-2-x86_64.pkg.tar.xz |tar CvxJf / - curl -L http://repo.msys2.org/msys/x86_64/rsync-3.2.2-2-x86_64.pkg.tar.zst |tar Cxvf / - --zstd curl -L http://repo.msys2.org/msys/x86_64/libzstd-1.4.5-2-x86_64.pkg.tar.xz |tar CxvJf / - curl -L http://repo.msys2.org/msys/x86_64/libxxhash-0.8.0-1-x86_64.pkg.tar.zst |tar Cvxf / - --zstd å‚è€ƒã‚µã‚¤ãƒˆ  Git for Windows ã« rsync ã‚’è¿½åŠ ã™ã‚‹  ç’°å¢ƒ  Windows 10 21H2 (OS ãƒ“ãƒ«ãƒ‰ 19044, 1586) Git for Windows 2.35.1 rsync version 3.2.2 protocol version 31  ","permalink":"https://d.oppara.tv/posts/2022/03/windows-rsync/","summary":"å•é¡Œ Windows ã§ rsync ã‚’ä½¿ã„ãŸã„ã€‚ ã§ã‚‚ WSL ã‚’ä½¿ã†ã»ã©ã§ã‚‚ãªã„ã€‚ å¯¾å¿œæ–¹æ³• Git for Windows ã« rsync ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã€‚ ã‚¹ã‚¿ãƒ¼ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ã€ŒGit Bashã€ã‚’å³ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€","title":"Windows ã§ rsync ã‚’ä½¿ã„ãŸã„"},{"content":"å•é¡Œ Chrome ã‚’ä½¿ã†ã¨ãƒ•ã‚¡ãƒ³ãŒã†ãªã‚Šã‚’ä¸Šã’ã‚‹ã€‚\nå¯¾å¿œæ–¹æ³•  chrome://flags/#enhanced-bookmarks-experimentã‚’é–‹ãã€‚ bookmarkã§æ¤œç´¢ã€‚ ä»¥ä¸‹ã®æ©Ÿèƒ½ã‚’ Disabled ã«å¤‰æ›´ã™ã‚‹ã€‚  Omnibox short bookmark suggestions Omnibox Bookmark Paths Omnibox Site Search Starter Pack Reading List   Chrome ã‚’å†èµ·å‹•ã™ã‚‹ã€‚  å‚è€ƒã‚µã‚¤ãƒˆ  2022å¹´ é‡ãŸã„Chromeã‚’è»½ãã™ã‚‹æ„å¤–ãªè§£æ±ºæ–¹æ³•ã¨ã¯ï¼Ÿ | ã‚ªãƒ©ãƒ³ãƒ€ã§ç”Ÿãã¦ã„ã  ç’°å¢ƒ % /Applications/Google\\ Chrome.app/Contents/MacOS/Google\\ Chrome --version Google Chrome 99.0.4844.83 % sw_vers ProductName: macOS ProductVersion: 12.2 BuildVersion: 21D49 ","permalink":"https://d.oppara.tv/posts/2022/03/chrome-fan-solution/","summary":"å•é¡Œ Chrome ã‚’ä½¿ã†ã¨ãƒ•ã‚¡ãƒ³ãŒã†ãªã‚Šã‚’ä¸Šã’ã‚‹ã€‚ å¯¾å¿œæ–¹æ³• chrome://flags/#enhanced-bookmarks-experimentã‚’é–‹","title":"Chrome ã‚’ä½¿ã£ã¦ã„ã‚‹ã¨ãƒ•ã‚¡ãƒ³ãŒã†ã‚‹ã•ã„"},{"content":"ã¯ã˜ã‚ã« ã‚ˆãä½¿ã†å¤‰æ•°å†…æ–‡å­—åˆ—ç½®æ›ã‚’å¿˜ã‚Œã‚‹ã®ã§ã®ãƒ¡ãƒ¢ã€‚\nä¾‹ ~/tmp/hoge.sh\n#!/bin/bash  echo \u0026#34;$0\u0026#34;  # basename echo \u0026#34;${0##*/}\u0026#34;  # æ‹¡å¼µå­å–å¾— echo \u0026#34;${0##*\\.}\u0026#34;  # dirname echo \u0026#34;${0%/*}\u0026#34;  # æ‹¡å¼µå­ä»¥å¤– echo \u0026#34;${0%.*}\u0026#34; output\n/Users/oppara/tmp/hoge.sh hoge.sh sh /Users/oppara/tmp /Users/oppara/tmp/hoge ç’°å¢ƒ % sw_vers ProductName: macOS ProductVersion: 12.2 BuildVersion: 21D49 % bash --version GNU bash, version 3.2.57(1)-release (x86_64-apple-darwin21) Copyright (C) 2007 Free Software Foundation, Inc. ","permalink":"https://d.oppara.tv/posts/2022/03/bash-string-replacement/","summary":"ã¯ã˜ã‚ã« ã‚ˆãä½¿ã†å¤‰æ•°å†…æ–‡å­—åˆ—ç½®æ›ã‚’å¿˜ã‚Œã‚‹ã®ã§ã®ãƒ¡ãƒ¢ã€‚ ä¾‹ ~/tmp/hoge.sh #!/bin/bash echo \u0026#34;$0\u0026#34; # basename echo \u0026#34;${0##*/}\u0026#34; # æ‹¡å¼µå­å–å¾— echo \u0026#34;${0##*\\.}\u0026#34; # dirname echo \u0026#34;${0%/*}\u0026#34; # æ‹¡å¼µå­ä»¥å¤– echo \u0026#34;${0%.*}\u0026#34; output /Users/oppara/tmp/hoge.sh hoge.sh sh /Users/oppara/tmp /Users/oppara/tmp/hoge ç’°å¢ƒ % sw_vers ProductName: macOS ProductVersion: 12.2 BuildVersion:","title":"Bash å¤‰æ•°æ–‡å­—åˆ—ç½®æ›"},{"content":"å•é¡Œ ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã‚’ PDF ã«å¤‰æ›ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚¨ãƒ©ãƒ¼ã€‚\n% pandoc hoge.md -o hoge.pdf pandoc: pdflatex: createProcess: posix_spawnp: illegal operation (Inappropriate ioctl for device) å¯¾å¿œæ–¹æ³• wkhtmltopdf ã‚’ä½¿ã£ã¦ã¿ã‚‹ã€‚\nwkhtmltopdf ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€‚\n% brew install --cask wkhtmltopdf ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã‚’ PDF ã«å¤‰æ›ã™ã‚‹ã€‚\n% pandoc hoge.md -o hoge.pdf --pdf-engine wkhtmltopdf ç’°å¢ƒ % sw_vers ProductName: macOS ProductVersion: 12.2 BuildVersion: 21D49 % pandoc --version pandoc 2.17.1.1 ","permalink":"https://d.oppara.tv/posts/2022/03/pandoc-markdown-pdf-error/","summary":"å•é¡Œ ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã‚’ PDF ã«å¤‰æ›ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚¨ãƒ©ãƒ¼ã€‚ % pandoc hoge.md -o hoge.pdf pandoc: pdflatex: createProcess: posix_spawnp: illegal operation (Inappropriate ioctl for device) å¯¾å¿œæ–¹æ³• wkhtmltopdf ã‚’ä½¿ã£ã¦ã¿ã‚‹ã€‚ wkhtmltopdf ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€‚ % brew install --cask wkhtmltopdf ãƒãƒ¼","title":"Pandoc ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã‚’ PDF ã«å¤‰æ›ã—ã‚ˆã†ã¨ã—ã¦ã‚¨ãƒ©ãƒ¼"},{"content":"ã¯ã˜ã‚ã« AWS CLI ã§ AWS Backup ã‚’åˆ©ç”¨ã—ãŸ EC2 ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—è¨­å®šã®å‚™å¿˜éŒ²ã€‚\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ­ãƒ¼ãƒ«ã®ä½œæˆ 1 ã¤ã‚‚ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ—ãƒ©ãƒ³ãŒãªã„çŠ¶æ…‹ã§ã€cli çµŒç”±ã§ãƒãƒƒã‚¯ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã—ãŸå ´åˆã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ­ãƒ¼ãƒ« ( AWSBackupDefaultServiceRole ) ã¯è‡ªå‹•ã§ä½œæˆã•ã‚Œãªã„ã®ã§æ³¨æ„ã€‚\nï¼ˆãƒãƒã‚³ãƒ³ã‹ã‚‰ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒªã‚½ãƒ¼ã‚¹ä½œæˆæ™‚ã€IAM ãƒ­ãƒ¼ãƒ«ã§ã€Œãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ­ãƒ¼ãƒ«ã€ã‚’é¸æŠã—ãŸå ´åˆã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ­ãƒ¼ãƒ«ãŒä½œæˆã•ã‚Œã‚‹ï¼‰\nãƒ­ãƒ¼ãƒ«ä½œæˆç”¨ã®ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆ  åå‰: AWSBackupDefaultServiceRole ä¿¡é ¼ã•ã‚ŒãŸã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£AWS ã®ã‚µãƒ¼ãƒ“ã‚¹: backup.amazonaws.com ãƒãƒªã‚·ãƒ¼:  AWSBackupServiceRolePolicyForRestores AWSBackupServiceRolePolicyForBackup    è¡¨ç¤º #!/bin/bash set -eu  ROLE_NAME=\u0026#34;AWSBackupDefaultServiceRole\u0026#34;  # IAM ãƒ­ãƒ¼ãƒ«ã‚’ä½œæˆ aws iam create-role \\ --role-name \u0026#34;${ROLE_NAME}\u0026#34; \\ --assume-role-policy-document file://backup-role-policy.json  # AWSBackupServiceRolePolicyForBackup ãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒ aws iam attach-role-policy \\ --role-name \u0026#34;${ROLE_NAME}\u0026#34; \\ --policy-arn arn:aws:iam::aws:policy/service-role/AWSBackupServiceRolePolicyForBackup  # AWSBackupServiceRolePolicyForRestores ãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒ aws iam attach-role-policy \\ --role-name \u0026#34;${ROLE_NAME}\u0026#34; \\ --policy-arn arn:aws:iam::aws:policy/service-role/AWSBackupServiceRolePolicyForRestores  # EC2 ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ã™ã‚‹å ´åˆã€ä»¥ä¸‹ã®ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ãƒãƒªã‚·ãƒ¼ã‚’è¿½åŠ ã™ã‚‹å¿…è¦ã‚ã‚Š aws iam put-role-policy \\ --role-name \u0026#34;${ROLE_NAME}\u0026#34; \\ --policy-name ec2-backup-policy \\ --policy-document file://ec2-backup-policy.json backup-role-policy.json\n{  \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;,  \u0026#34;Statement\u0026#34;: [  {  \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,  \u0026#34;Principal\u0026#34;: {  \u0026#34;Service\u0026#34;: \u0026#34;backup.amazonaws.com\u0026#34;  },  \u0026#34;Action\u0026#34;: \u0026#34;sts:AssumeRole\u0026#34;  }  ] } ec2-backup-policy.json\n{  \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;,  \u0026#34;Statement\u0026#34;: [  {  \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,  \u0026#34;Action\u0026#34;: \u0026#34;ec2:DescribeFastSnapshotRestores\u0026#34;,  \u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34;  },  {  \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,  \u0026#34;Action\u0026#34;: \u0026#34;iam:PassRole\u0026#34;,  \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:iam::\u0026lt;ã‚¢ã‚«ã‚¦ãƒ³ãƒˆID\u0026gt;:role/service-role/AWSBackupDefaultServiceRole\u0026#34;  }  ] }  \nEC2 ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã® CLI å®Ÿè¡Œä¾‹ å‰æ: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ­ãƒ¼ãƒ« ( AWSBackupDefaultServiceRole ) ã¯ä½œæˆæ¸ˆã¿ã€‚\n1. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒœãƒ¼ãƒ«ãƒˆã‚’ä½œæˆ % aws backup create-backup-vault \\  --backup-vault-name \u0026lt;ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒœãƒ¼ãƒ«ãƒˆå\u0026gt; \\  --encryption-key-arn \u0026lt;ã‚µãƒ¼ãƒãƒ¼å´ã§æš—å·åŒ–ã™ã‚‹éš›ã® KMS ã®æš—å·åŒ–ã‚­ãƒ¼ã® ARN\u0026gt; {  \u0026#34;BackupVaultName\u0026#34;: \u0026#34;ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒœãƒ¼ãƒ«ãƒˆå\u0026#34;,  \u0026#34;BackupVaultArn\u0026#34;: \u0026#34;ä½œæˆã•ã‚ŒãŸãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒœãƒ¼ãƒ«ãƒˆã® ARN\u0026gt;\u0026#34;,  \u0026#34;CreationDate\u0026#34;: \u0026#34;YYYY-MM-DDThh:mm:ss+09:00\u0026#34; } 2. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ—ãƒ©ãƒ³ã‚’ä½œæˆ $ aws backup create-backup-plan --backup-plan file://backup-plan.json {  \u0026#34;BackupPlanId\u0026#34;: \u0026#34;ä½œæˆã•ã‚ŒãŸãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ—ãƒ©ãƒ³ã® ID\u0026#34;,  \u0026#34;BackupPlanArn\u0026#34;: \u0026#34;ä½œæˆã•ã‚ŒãŸãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ—ãƒ©ãƒ³ã® ARN\u0026#34;,  \u0026#34;CreationDate\u0026#34;: \u0026#34;YYYY-MM-DDThh:mm:ss+09:00\u0026#34;,  \u0026#34;VersionId\u0026#34;: \u0026#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u0026#34; } backup-plan.json\n{  \u0026#34;BackupPlanName\u0026#34;: \u0026#34;\u0026lt;ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ—ãƒ©ãƒ³å\u0026gt;\u0026#34;,  \u0026#34;Rules\u0026#34;: [  {  \u0026#34;RuleName\u0026#34;: \u0026#34;\u0026lt;ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ«ãƒ¼ãƒ«å\u0026gt;\u0026#34;,  \u0026#34;TargetBackupVaultName\u0026#34;: \u0026#34;\u0026lt;ä½œæˆã—ãŸãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒœãƒ¼ãƒ«ãƒˆå\u0026gt;\u0026#34;,  \u0026#34;ScheduleExpression\u0026#34;: \u0026#34;cron(3 18 ? * * *)\u0026#34;,  \u0026#34;StartWindowMinutes\u0026#34;: 120,  \u0026#34;CompletionWindowMinutes\u0026#34;: 300,  \u0026#34;Lifecycle\u0026#34;: {  \u0026#34;DeleteAfterDays\u0026#34;: 5  }  }  ] } 3. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒªã‚½ãƒ¼ã‚¹ã®å‰²ã‚Šå½“ã¦ $ aws backup create-backup-selection \\  --backup-plan-id \u0026lt;ä½œæˆã•ã‚ŒãŸãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ—ãƒ©ãƒ³ã® ID\u0026gt; \\  --backup-selection file://backup-selection.json {  \u0026#34;SelectionId\u0026#34;: \u0026#34;ä½œæˆã•ã‚ŒãŸã‚»ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã® ID\u0026#34;,  \u0026#34;BackupPlanId\u0026#34;: \u0026#34;ä½œæˆã•ã‚ŒãŸãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ—ãƒ©ãƒ³ã® ID\u0026#34;,  \u0026#34;CreationDate\u0026#34;: \u0026#34;YYYY-MM-DDThh:mm:ss+09:00\u0026#34; } backup-selection.json (EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã™ã‚‹)\n{  \u0026#34;SelectionName\u0026#34;: \u0026#34;ec2-prod\u0026#34;,  \u0026#34;IamRoleArn\u0026#34;: \u0026#34;AWSBackupDefaultServiceRole ã® ARN\u0026#34;,  \u0026#34;Resources\u0026#34;: [  \u0026#34;ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’è¨­å®šã™ã‚‹ EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã® ID\u0026gt;\u0026#34;  ],  \u0026#34;ListOfTags\u0026#34;: [] } å‚è€ƒã‚µã‚¤ãƒˆ  backup â€” AWS CLI 2.4.27 Command Reference  ç’°å¢ƒ % sw_vers ProductName: macOS ProductVersion: 12.2 BuildVersion: 21D49 % aws --version aws-cli/2.4.26 Python/3.9.10 Darwin/21.3.0 source/x86_64 prompt/off ","permalink":"https://d.oppara.tv/posts/2022/03/aws-backup-ec2-cli/","summary":"ã¯ã˜ã‚ã« AWS CLI ã§ AWS Backup ã‚’åˆ©ç”¨ã—ãŸ EC2 ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—è¨­å®šã®å‚™å¿˜éŒ²ã€‚ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ­ãƒ¼ãƒ«ã®ä½œæˆ 1 ã¤ã‚‚ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ—ãƒ©ãƒ³ãŒãªã„çŠ¶æ…‹ã§ã€cli çµŒç”±ã§ãƒãƒƒã‚¯ãƒª","title":"AWS CLI ã§ AWS Backup ã‚’åˆ©ç”¨ã—ãŸ EC2 ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—è¨­å®šã‚’ã™ã‚‹"},{"content":"#!/usr/bin/env bash set -e  desc() {  while read -r line  do  set ${line}  name=${1}  ip=${2}   echo \u0026#34;${name}: ${ip}\u0026#34;  done }  aws ec2 describe-instances --filter \u0026#34;Name=instance-state-name,Values=running\u0026#34; \\  | jq -r \u0026#39;.Reservations[].Instances[] | [(.Tags[] | select(.Key==\u0026#34;Name\u0026#34;).Value), .PrivateIpAddress] | @tsv\u0026#39; \\  | desc ec2:DescribeInstancesãƒãƒªã‚·ãƒ¼ãŒå¿…è¦ã€‚\nç’°å¢ƒ % sw_vers ProductName: macOS ProductVersion: 12.2 BuildVersion: 21D49 % aws --version aws-cli/2.4.26 Python/3.9.10 Darwin/21.3.0 source/x86_64 prompt/off ","permalink":"https://d.oppara.tv/posts/2022/03/aws-ec2-describe-ipaddress/","summary":"#!/usr/bin/env bash set -e desc() { while read -r line do set ${line} name=${1} ip=${2} echo \u0026#34;${name}: ${ip}\u0026#34; done } aws ec2 describe-instances --filter \u0026#34;Name=instance-state-name,Values=running\u0026#34; \\ | jq -r \u0026#39;.Reservations[].Instances[] | [(.Tags[] | select(.Key==\u0026#34;Name\u0026#34;).Value), .PrivateIpAddress] | @tsv\u0026#39; \\ | desc ec2:DescribeInstancesãƒãƒªã‚·ãƒ¼ãŒå¿…è¦ã€‚ ç’°","title":"EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ã‚¿ã‚°ã¨ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆIPã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¡¨ç¤ºã™ã‚‹"},{"content":"ã¯ã˜ã‚ã« å¤‰æ•°ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã®è¨­å®šã‚’ã‚’å¿˜ã‚Œã‚‹ã®ã§ã®ãƒ¡ãƒ¢ã€‚\nä¾‹ #!/bin/bash  # var ã«ã¯ä»£å…¥ã•ã‚Œãªã„ echo \u0026#34;hello ${var:-world}\u0026#34; echo \u0026#34;$var\u0026#34;  # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’å¤‰æ•°åŒ–ã™ã‚‹ã¨ãã¯å†ä»£å…¥ã—ãŸæ–¹ãŒæ¥½ var=${var:-foo} echo \u0026#34;${var}\u0026#34; output\nhello world foo ç’°å¢ƒ % sw_vers ProductName: macOS ProductVersion: 12.2 BuildVersion: 21D49 % bash --version GNU bash, version 3.2.57(1)-release (x86_64-apple-darwin21) Copyright (C) 2007 Free Software Foundation, Inc. ","permalink":"https://d.oppara.tv/posts/2022/03/bash-default-value/","summary":"ã¯ã˜ã‚ã« å¤‰æ•°ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã®è¨­å®šã‚’ã‚’å¿˜ã‚Œã‚‹ã®ã§ã®ãƒ¡ãƒ¢ã€‚ ä¾‹ #!/bin/bash # var ã«ã¯ä»£å…¥ã•ã‚Œãªã„ echo \u0026#34;hello ${var:-world}\u0026#34; echo \u0026#34;$var\u0026#34; # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’å¤‰æ•°åŒ–ã™ã‚‹ã¨ãã¯å†ä»£å…¥ã—ãŸæ–¹ãŒæ¥½ var=${var:-foo} echo","title":"Bash å¤‰æ•°ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¨­å®šã™ã‚‹"},{"content":"ã¯ã˜ã‚ã« AWS Vault ã‚’ä½¿ã£ã¦ MFA çµŒç”±ã§ AssumeRole ã™ã‚‹å‚™å¿˜éŒ²ã€‚\n99designs/aws-vault\nå‰æ ä»¥ä¸‹ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆæ¸ˆã¿ã§ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã®è¨­å®šæ¸ˆã¿ã€‚\n oppara (default): ã‚¹ã‚¤ãƒƒãƒå…ƒ (MFA èªè¨¼) oppara-dev: ã‚¹ã‚¤ãƒƒãƒå…ˆ  å¯¾å¿œæ–¹æ³• AWS Vault ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« % brew cask install aws-vault AccessKeyId, SecretAccessKey ã‚’ã‚­ãƒ¼ãƒã‚§ãƒ¼ãƒ³ã«ç™»éŒ² AWS Vault ã§ç”Ÿæˆã™ã‚‹ã‚­ãƒ¼ãƒã‚§ãƒ¼ãƒ³ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ç‚ºã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›ã™ã‚‹ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§è¨­å®šã™ã‚‹ã€‚\n% aws-vault add default Enter Access Key Id: xxxxxxxxxxxxxxxxxxxx Enter Secret Key: xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx Credential ãŒç™»éŒ²ã•ã‚Œã¦ã„ã‚‹ã€‚\n% aws-vault list Profile Credentials Sessions ======= =========== ======== default default - ~/.aws/config ã®è¨­å®š [default] output=json region=ap-northeast-1  [profile oppara-dev] source_profile=default mfa_serial=arn:aws:iam::xxxxxxxxxxxx:mfa/oppara role_arn=arn:aws:iam::zzzzzzzzzzzz:role/\u0026lt;ãƒ­ãƒ¼ãƒ«å\u0026gt;  mfa_serial: ã‚¹ã‚¤ãƒƒãƒå…ƒã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ã€ŒMFA ãƒ‡ãƒã‚¤ã‚¹ã®å‰²ã‚Šå½“ã¦ã€ role_arn: ã‚¹ã‚¤ãƒƒãƒæ™‚ã«ä½¿ç”¨ã™ã‚‹ã‚¹ã‚¤ãƒƒãƒå…ˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆã® IAM ãƒ­ãƒ¼ãƒ«ã® ARN  å®Ÿè¡Œ oppara-dev ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã® S3 ãƒã‚±ãƒƒãƒˆä¸€è¦§ã‚’è¡¨ç¤ºã™ã‚‹ã€‚\n aws-vaultã‚­ãƒ¼ãƒã‚§ãƒ¼ãƒ³ã¸ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ç‚ºã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹ MFA ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹ã‚ˆã†æ±‚ã‚ã‚‰ã‚Œã‚‹ã®ã§å…¥åŠ›ã™ã‚‹\nç´ ã® AWS CLI ã¨é•ã„å…¥åŠ›ã—ãŸã‚³ãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§å…¥åŠ›ãŒæ¥½ ğŸ˜†  % aws-vault exec oppara-dev -- aws s3 ls Enter MFA code for arn:aws:iam::xxxxxxxxxxxx:mfa/oppara: 2021-07-01 23:13:48 cdk-hnb659fds-assets-552376481266-ap-northeast-1 2020-06-10 00:58:26 cf-templates-8pyd86xx4vzz-ap-northeast-1 2021-05-31 01:18:49 rain-artifacts-552376481266-ap-northeast-1 ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒã§ãã¦ã„ã‚‹ã€‚\n% aws-vault list Profile Credentials Sessions ======= =========== ======== default default - oppara-dev - sts.AssumeRole:37m15s ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒåˆ‡ã‚Œã‚‹ã¾ã§ã¯ã€ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã‚‚ MFA ã‚³ãƒ¼ãƒ‰ã®å…¥åŠ›ã¯æ±‚ã‚ã‚‰ã‚Œãªã„ã€‚\nä¾¿åˆ© ğŸ˜†\n% aws-vault exec oppara-dev -- aws s3 ls 2021-07-01 23:13:48 cdk-hnb659fds-assets-552376481266-ap-northeast-1 2020-06-10 00:58:26 cf-templates-8pyd86xx4vzz-ap-northeast-1 2021-05-31 01:18:49 rain-artifacts-552376481266-ap-northeast-1 ç’°å¢ƒ % sw_vers ProductName: macOS ProductVersion: 12.2 BuildVersion: 21D49 % aws-vault --version v6.6.0 ","permalink":"https://d.oppara.tv/posts/2022/03/aws-vault-assumerole-mfa/","summary":"ã¯ã˜ã‚ã« AWS Vault ã‚’ä½¿ã£ã¦ MFA çµŒç”±ã§ AssumeRole ã™ã‚‹å‚™å¿˜éŒ²ã€‚ 99designs/aws-vault å‰æ ä»¥ä¸‹ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆæ¸ˆã¿ã§ã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ã®è¨­å®šæ¸ˆã¿ã€‚ oppara (default): ã‚¹ã‚¤ãƒƒãƒå…ƒ (MFA èªè¨¼) oppara-dev: ã‚¹ã‚¤ãƒƒãƒå…ˆ å¯¾å¿œ","title":"AWS Vault ã‚’ä½¿ã£ã¦ MFA ã¨ AssumeRoleï¼ˆã‚¹ã‚¤ãƒƒãƒãƒ­ãƒ¼ãƒ«ï¼‰ "},{"content":"ã¯ã˜ã‚ã« Session Manager ã§ EC2 ä¸Šã® Amazon Linux ã«ãƒ­ã‚°ã‚¤ãƒ³å¾Œã€ä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãªã‚‹ãŸã‚ã®å‚™å¿˜éŒ²ã€‚\nãƒ­ã‚°ã‚¤ãƒ³æ™‚ã¯ssm-user\nsh-4.2$ whoami ssm-user å¯¾å¿œæ–¹æ³• ec2-user ã«ãªã‚‹ sh-4.2$ sudo su --login ec2-user root ã«ãªã‚‹ sh-4.2$ sudo su --login ç’°å¢ƒ sh-4.2$ cat /etc/system-release Amazon Linux release 2 (Karoo) sh-4.2$ amazon-ssm-agent -version SSM Agent version: 3.0.1124.0 ","permalink":"https://d.oppara.tv/posts/2022/03/aws-ssm-switch-user/","summary":"ã¯ã˜ã‚ã« Session Manager ã§ EC2 ä¸Šã® Amazon Linux ã«ãƒ­ã‚°ã‚¤ãƒ³å¾Œã€ä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãªã‚‹ãŸã‚ã®å‚™å¿˜éŒ²ã€‚ ãƒ­ã‚°ã‚¤ãƒ³æ™‚ã¯ssm-user sh-4.2$ whoami ssm-user å¯¾å¿œæ–¹æ³• ec2-user ã«ãªã‚‹ sh-4.2$ sudo su --login ec2-user root ã«ãªã‚‹ sh-4.2$","title":"Session Manager ã§ Amazon Linux ã«ãƒ­ã‚°ã‚¤ãƒ³å¾Œãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹"},{"content":"å•é¡Œ git logã®è¡¨ç¤ºãŒå¯‚ã—ã„ã€‚\nå¯¾å¿œ å¥½ã¿ã®ãƒ­ã‚°ã‚’è¡¨ç¤ºã™ã‚‹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’è¨­å®šã™ã‚‹ã€‚\nGit ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ ; ~/.gitconfig [alias]  ll = log --graph --color \\ --pretty=format:\u0026#39;%C(red)%x09%h %C(yellow)%cn %C(green)%ci %C(reset)%s%C(blue)%d%C(reset)\u0026#39;    format è§£èª¬     %C(red)%x09%h 9 æ–‡å­—ç©ºã‘ã¦çœç•¥ã•ã‚ŒãŸã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã‚’èµ¤ã§è¡¨ç¤º   %C(yellow)%cn ã‚³ãƒŸãƒƒã‚¿ãƒ¼ã®åå‰ã‚’é»„è‰²ã§è¡¨ç¤º   %C(green)%ci ã‚³ãƒŸãƒƒãƒˆã—ãŸæ—¥æ™‚ã‚’ ISO8601 ã½ã„å½¢å¼ã§ç·‘ã§è¡¨ç¤º   %C(reset)%s è¡¨ç¤ºè‰²ã‚’ãƒªã‚»ãƒƒãƒˆã—ã€ä»¶åï¼ˆã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã® 1 è¡Œç›®ï¼‰ã‚’è¡¨ç¤º   %C(blue)%d%C(reset) ref name ã‚’é’ã§è¡¨ç¤ºã—ã€å†åº¦è¡¨ç¤ºè‰²ã‚’ãƒªã‚»ãƒƒãƒˆ    æœ¬å®¶ã®è§£èª¬ãƒšãƒ¼ã‚¸\nGit - pretty-formats Documentation\nã‚·ã‚§ãƒ«ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ ã¨ã‚Šã‚ãˆãšã€10 è¡Œã ã‘æ¬²ã—ã„ã€‚\nalias gl=\u0026#34;git ll | head -10 \u0026amp;\u0026amp; echo\u0026#34; å®Ÿè¡Œçµæœ   ç’°å¢ƒ % sw_vers ProductName: macOS ProductVersion: 12.2 BuildVersion: 21D49 % git --version git version 2.35.1 ","permalink":"https://d.oppara.tv/posts/2022/03/git-log-alias/","summary":"å•é¡Œ git logã®è¡¨ç¤ºãŒå¯‚ã—ã„ã€‚ å¯¾å¿œ å¥½ã¿ã®ãƒ­ã‚°ã‚’è¡¨ç¤ºã™ã‚‹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’è¨­å®šã™ã‚‹ã€‚ Git ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ ; ~/.gitconfig [alias] ll = log --graph --color \\ --pretty=format:\u0026#39;%C(red)%x09%h %C(yellow)%cn %C(green)%ci %C(reset)%s%C(blue)%d%C(reset)\u0026#39; format è§£èª¬ %C(red)%x09%h 9 æ–‡å­—ç©ºã‘ã¦çœç•¥ã•","title":"git log ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹"},{"content":"ã¯ã˜ã‚ã« speedtest.net ã® CLI ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ ãŒã‚ã£ãŸã®ã§è©¦ã—ã¦ã¿ã‚‹ã€‚\nã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« % brew install teamookla/speedtest/speedtest åˆå›å®Ÿè¡Œ åˆå›å®Ÿè¡Œæ™‚ã¯ã€ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ç¢ºèªãŒã‚ã‚‹ã€‚\n% speedtest ==================================================================== You may only use this Speedtest software and information generated from it for personal, non-commercial use, through a command line interface on a personal computer. Your use of this software is subject to the End User License Agreement, Terms of Use and Privacy Policy at these URLs:  https://www.speedtest.net/about/eula  https://www.speedtest.net/about/terms  https://www.speedtest.net/about/privacy ===================================================================== Do you accept the license? [type YES to accept]: ã‚µãƒ¼ãƒé¸æŠã®è©³ç´°ã‚’è¡¨ç¤ºã—ãªãŒã‚‰å®Ÿè¡Œ % speedtest --selection-details  Speedtest by Ookla Selecting server:  20976: 6.24 ms; GLBB Japan - Tokyo  21569: 5.66 ms; i3D.net - Tokyo  38241: 5.51 ms; BudgetVM - Tokyo  28910: 212.52 ms; fdcservers.net - Tokyo  48301: 5.96 ms; Cloudflare - Tokyo  24333: 17.89 ms; Rakuten Mobile, Inc - Tokyo  44988: 7.02 ms; Misaka Network, Inc. - Tokyo  48463: 5.79 ms; IPA CyberLab 400G - Tokyo  14623: 6.14 ms; IPA CyberLab - Bunkyo  8407: 10.31 ms; Allied Telesis Capital Corporation - Sagamihara  Server: BudgetVM - Tokyo (id = 38241)  ISP: Softbank BB  Latency: 5.63 ms (0.76 ms jitter)  Download: 117.23 Mbps (data used: 124.7 MB)  Upload: 230.65 Mbps (data used: 134.4 MB) Packet Loss: 0.0%  Result URL: https://www.speedtest.net/result/c/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx ã‚µãƒ¼ãƒ ID ã‚’æŒ‡å®šã—ã¦å®Ÿè¡Œ % speedtest -s 21569  Speedtest by Ookla  Server: i3D.net - Tokyo (id = 21569)  ISP: Softbank BB  Latency: 5.61 ms (0.40 ms jitter)  Download: 110.67 Mbps (data used: 69.7 MB)  Upload: 219.27 Mbps (data used: 145.6 MB) Packet Loss: 0.0%  Result URL: https://www.speedtest.net/result/c/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx ç’°å¢ƒ % sw_vers ProductName: macOS ProductVersion: 12.2 BuildVersion: 21D49 % speedtest -V Speedtest by Ookla 1.1.1.84 (3bdba79799) Darwin 21.3.0 x86_64 ","permalink":"https://d.oppara.tv/posts/2022/03/cli-speedtest/","summary":"ã¯ã˜ã‚ã« speedtest.net ã® CLI ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ ãŒã‚ã£ãŸã®ã§è©¦ã—ã¦ã¿ã‚‹ã€‚ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« % brew install teamookla/speedtest/speedtest åˆå›å®Ÿè¡Œ åˆå›å®Ÿè¡Œæ™‚ã¯ã€ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ç¢ºèªãŒã‚ã‚‹ã€‚ % speedtest ==================================================================== You may only use this Speedtest software and information","title":"Speedtest ã® CLI ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’è©¦ã—ã¦ã¿ã‚‹"},{"content":"ã¯ã˜ã‚ã« yaml ã‹ã‚‰ toml ã¸ã®å¤‰æ›ãƒ„ãƒ¼ãƒ«ã‚’æ¢ã—ã¦ã„ã¦è‰¯ã•ã’ãªã‚‚ã®ã‚’ç™ºè¦‹ã—ãŸã®ã§ä½¿ã£ã¦ã¿ã‚‹ã€‚\n sclevine/yj: CLI - Convert between YAML, TOML, JSON, and HCL  ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« % brew install yj ä½¿ã„æ–¹ æ¨™æº–å…¥åŠ›ã‹ã‚‰èª­ã¿è¾¼ã¾ã›ã¦ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã™ã‚‹æ„Ÿã˜ã€‚\n% yj -yt -i \u0026lt; example.yaml \u0026gt; example.toml or\n% cat example.yaml | yj -yt -i \u0026gt; example.toml ç’°å¢ƒ % sw_vers ProductName: macOS ProductVersion: 12.2 BuildVersion: 21D49 % yj -v v5.0.0 ","permalink":"https://d.oppara.tv/posts/2022/03/cli-yaml-toml-json-hcl-converter/","summary":"ã¯ã˜ã‚ã« yaml ã‹ã‚‰ toml ã¸ã®å¤‰æ›ãƒ„ãƒ¼ãƒ«ã‚’æ¢ã—ã¦ã„ã¦è‰¯ã•ã’ãªã‚‚ã®ã‚’ç™ºè¦‹ã—ãŸã®ã§ä½¿ã£ã¦ã¿ã‚‹ã€‚ sclevine/yj: CLI - Convert between YAML, TOML, JSON, and HCL ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« % brew install yj ä½¿ã„æ–¹ æ¨™æº–å…¥åŠ›ã‹ã‚‰èª­","title":"yaml, toml, json, hclã®å¤‰æ›ãƒ„ãƒ¼ãƒ« yj"},{"content":"DNS ã®è¨­å®š d.oppara.tvã® CNAME ã‚’oppara.github.ioã«è¨­å®šã™ã‚‹ã€‚\n% dig d.oppara.tv @8.8.8.8 ... ;; ANSWER SECTION: d.oppara.tv. 3600 IN CNAME oppara.github.io. oppara.github.io. 3600 IN A 185.199.108.153 oppara.github.io. 3600 IN A 185.199.111.153 oppara.github.io. 3600 IN A 185.199.109.153 oppara.github.io. 3600 IN A 185.199.110.153 ... GitHub Actions ã‚’è¨­å®šã™ã‚‹ GitHub Actions ã«ã‚ˆã‚‹ GitHub Pages ã¸ã®è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ - Qiita\nå¤‰æ›´ç®‡æ‰€\n pull_request:ã‚’å‰Šé™¤ hugo ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ 0.94.0 ã«å¤‰æ›´ publish_dir: ./publicã‚’å‰Šé™¤  gh-pages ãƒ–ãƒ©ãƒ³ãƒã®ç›´ä¸‹ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã€‚   cname option ã‚’è¨­å®š  é‡è¦ è¨­å®šã—ãªã„ã¨ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ã« Custom domain ã®è¨­å®šãŒåˆæœŸåŒ–ã•ã‚Œã€URL ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã‚‚ 404 ã«ãªã£ã¦ã—ã¾ã†ã€‚    GitHub ã®è¨­å®š Settings -\u0026gt; Pages\n  ","permalink":"https://d.oppara.tv/posts/2022/03/hugo-github-pages/","summary":"DNS ã®è¨­å®š d.oppara.tvã® CNAME ã‚’oppara.github.ioã«è¨­å®šã™ã‚‹ã€‚ % dig d.oppara.tv @8.8.8.8 ... ;; ANSWER SECTION: d.oppara.tv. 3600 IN CNAME oppara.github.io. oppara.github.io. 3600 IN A 185.199.108.153 oppara.github.io. 3600 IN A 185.199.111.153 oppara.github.io. 3600 IN A 185.199.109.153 oppara.github.io. 3600","title":"Hugo ã§ä½œæˆã—ãŸè¨˜äº‹ã‚’ GitHub Pages ã§å…¬é–‹ã™ã‚‹"},{"content":"ã¯ã˜ã‚ã« hugo vim editorã§æ¤œç´¢ã—ã¦ã„ãŸã‚‰ä»¥ä¸‹ã® b4b4r07 ã•ã‚“ã®è‰¯ã•ã’ãªãƒ–ãƒ­ã‚°ã‚’ç™ºè¦‹ã€‚\nã‚¹ãƒ ãƒ¼ã‚ºã« Hugo ã§ãƒ–ãƒ­ã‚°ã‚’æ›¸ããƒ„ãƒ¼ãƒ« | tellme.tokyo\nä¸Šè¨˜ãƒ–ãƒ­ã‚°ã§ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ b4b4r07/blog ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ã€ä»¥ä¸‹ã®ç’°å¢ƒå¤‰æ•°ã®è¨­å®šãŒå¿…è¦ãªæ¨¡æ§˜ã€‚\n BLOG_ROOT: hugo new siteã§ã§ããŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒ‘ã‚¹ã‚’æŒ‡å®šã€‚ BLOG_POST_DIR: è¨˜äº‹ã‚’ä½œæˆã™ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚BLOG_ROOT ã‹ã‚‰ã®ç›¸å¯¾ãƒ‘ã‚¹ã‚’æŒ‡å®šã€‚  è¨­å®šä¾‹ export BLOG_ROOT=\u0026#34;${HOME}/src/github.com/oppara/d.oppara.tv\u0026#34; export BLOG_POST_DIR=`date +\u0026#34;content/posts/%Y/%m\u0026#34;` blog new ã§ä½œæˆã•ã‚Œã‚‹æ—¥ä»˜ã‚’ JST ã«ã—ãŸã„ The åŠ›æŠ€ã€‚\ndiff --git a/cmd/new.go b/cmd/new.go index 4996bfb..85d597e 100644 --- a/cmd/new.go +++ b/cmd/new.go @@ -69,7 +69,7 @@ func (c *newCmd) run(args []string) error { Command: \u0026#34;hugo\u0026#34;, Args: []string{\u0026#34;new\u0026#34;, strings.TrimPrefix(next, \u0026#34;content/\u0026#34;)}, Dir: c.RootPath, - Env: map[string]string{}, + Env: map[string]string{\u0026#34;TZ\u0026#34;:\u0026#34;Asia/Tokyo\u0026#34;}, Stdin: os.Stdin, Stdout: ioutil.Discard, Stderr: ioutil.Discard, https://github.com/oppara/b4b4r07-blog/commit/1b653d83f0352d0bc06e9b1e737ec292c85989e1\nç’°å¢ƒ % sw_vers ProductName: macOS ProductVersion: 12.2 BuildVersion: 21D49 % hugo version hugo v0.94.0+extended darwin/amd64 BuildDate=unknown ","permalink":"https://d.oppara.tv/posts/2022/03/hugo-blog-tool/","summary":"ã¯ã˜ã‚ã« hugo vim editorã§æ¤œç´¢ã—ã¦ã„ãŸã‚‰ä»¥ä¸‹ã® b4b4r07 ã•ã‚“ã®è‰¯ã•ã’ãªãƒ–ãƒ­ã‚°ã‚’ç™ºè¦‹ã€‚ ã‚¹ãƒ ãƒ¼ã‚ºã« Hugo ã§ãƒ–ãƒ­ã‚°ã‚’æ›¸ããƒ„ãƒ¼ãƒ« | tellme.tokyo ä¸Šè¨˜ãƒ–ãƒ­ã‚°ã§ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ b4b4r07/blog","title":"ã‚¹ãƒ ãƒ¼ã‚ºã« Hugo ã§ãƒ–ãƒ­ã‚°ã‚’æ›¸ããƒ„ãƒ¼ãƒ«"},{"content":"å•é¡Œ --editor ã‚ªãƒ—ã‚·ãƒ§ãƒ³ä»˜ãã§ hugo new ã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã—ã¾ã†ã€‚\n% hugo new posts/2022/03/hoge/index.md --editor vim Content \u0026#34;/path/to/hugo/content/posts/2022/03/hoge/index.md\u0026#34; created Editing \u0026#34;/path/to/hugo/content/posts/2022/03/hoge/index.md\u0026#34; with \u0026#34;vim\u0026#34; ... Error: access denied: \u0026#34;vim\u0026#34; is not whitelisted in policy \u0026#34;security.exec.allow\u0026#34;; the current security configuration is: [security]  enableInlineShortcodes = false  [security.exec]  allow = [\u0026#39;^dart-sass-embedded$\u0026#39;, \u0026#39;^go$\u0026#39;, \u0026#39;^npx$\u0026#39;, \u0026#39;^postcss$\u0026#39;]  osEnv = [\u0026#39;(?i)^(PATH|PATHEXT|APPDATA|TMP|TEMP|TERM)$\u0026#39;]  [security.funcs]  getenv = [\u0026#39;^HUGO_\u0026#39;]  [security.http]  methods = [\u0026#39;(?i)GET|POST\u0026#39;]  urls = [\u0026#39;.*\u0026#39;] å¯¾å¿œæ–¹æ³• ä»¥ä¸‹ã®è¨­å®šã‚’ confg.toml ã«è¿½åŠ ã™ã‚‹ã€‚\n[security]  [security.exec]  allow = [\u0026#39;^vim$\u0026#39;] ç’°å¢ƒ % sw_vers ProductName: macOS ProductVersion: 12.2 BuildVersion: 21D49 % hugo version hugo v0.93.3+extended darwin/amd64 BuildDate=unknown ","permalink":"https://d.oppara.tv/posts/2022/03/hugo-with-editor/","summary":"å•é¡Œ --editor ã‚ªãƒ—ã‚·ãƒ§ãƒ³ä»˜ãã§ hugo new ã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã—ã¾ã†ã€‚ % hugo new posts/2022/03/hoge/index.md --editor vim Content \u0026#34;/path/to/hugo/content/posts/2022/03/hoge/index.md\u0026#34; created Editing \u0026#34;/path/to/hugo/content/posts/2022/03/hoge/index.md\u0026#34; with \u0026#34;vim\u0026#34; ... Error: access denied: \u0026#34;vim\u0026#34; is not whitelisted in policy \u0026#34;security.exec.allow\u0026#34;; the current security configuration is: [security] enableInlineShortcodes = false [security.exec] allow = [\u0026#39;^dart-sass-embedded$\u0026#39;, \u0026#39;^go$\u0026#39;, \u0026#39;^npx$\u0026#39;, \u0026#39;^postcss$\u0026#39;]","title":"--editor ã‚ªãƒ—ã‚·ãƒ§ãƒ³ä»˜ãã§ hugo new ã™ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹"},{"content":"Configure Hugo | Hugo\næ—¥æœ¬èªå‘¨ã‚Š # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®è¨€èªè¨­å®š defaultContentLanguage = \u0026#34;ja\u0026#34;  # \u0026lt;language\u0026gt; ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆç”¨ã®å€¤ languageCode = \u0026#34;ja\u0026#34;  # æ—¥æœ¬èªã®æ–‡å­—æ•°ã‚’æ­£ã—ãæ•°ãˆã¦ã€çŸ­ã„ã‚µãƒãƒªãƒ¼ã‚’è¡¨ç¤ºã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ hasCJKLanguage = true  # ãƒªã‚¹ãƒˆå†…ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’è¤‡æ•°åŒ–ã—ãªã„ pluralizeListTitles = false  # timezone timeZone = \u0026#34;Asia/Tokyo\u0026#34; ãƒ†ãƒ¼ãƒ PaperMod ã®è¨­å®š [Params]  # è‘—è€…å  author = \u0026#34;oppara\u0026#34;   # æ—¥ä»˜ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ  dateformat = \u0026#34;2006-01-02\u0026#34;   # ãƒªã‚¹ãƒˆãƒšãƒ¼ã‚¸ã«è¡¨ç¤ºã•ã‚Œã‚‹æŠ•ç¨¿æ¯ã®è¦ç´„ã‚’éè¡¨ç¤ºã«ã™ã‚‹  hideSummary = true   # ãƒªã‚¹ãƒˆãƒšãƒ¼ã‚¸ã«1ã¤ã‚ã«è¡¨ç¤ºã•ã‚Œã‚‹æŠ•ç¨¿ã®ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’ä»–ã®æŠ•ç¨¿ã®ãƒ‡ã‚¶ã‚¤ãƒ³ã¨åŒã˜ã«ã™ã‚‹  disableSpecial1stPost = true   # æŠ•ç¨¿ãƒšãƒ¼ã‚¸ã§ç›®æ¬¡ã‚’è¡¨ç¤ºã™ã‚‹  ShowToc = true   # ãƒ‘ãƒ³å±‘ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã™ã‚‹  ShowBreadCrumbs = true   # æŠ•ç¨¿ãƒšãƒ¼ã‚¸ã®ä¸‹éƒ¨ã«ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒªãƒ³ã‚¯ã‚’è¡¨ç¤ºã™ã‚‹  ShowPostNavLinks = true ç’°å¢ƒ % sw_vers ProductName: macOS ProductVersion: 12.2 BuildVersion: 21D49 % hugo version hugo v0.93.3+extended darwin/amd64 BuildDate=unknown ","permalink":"https://d.oppara.tv/posts/2022/03/hugo-config/","summary":"Configure Hugo | Hugo æ—¥æœ¬èªå‘¨ã‚Š # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®è¨€èªè¨­å®š defaultContentLanguage = \u0026#34;ja\u0026#34; # \u0026lt;language\u0026gt; ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆç”¨ã®å€¤ languageCode = \u0026#34;ja\u0026#34; # æ—¥æœ¬èªã®æ–‡å­—æ•°ã‚’æ­£ã—ãæ•°ãˆã¦ã€çŸ­ã„ã‚µãƒãƒªãƒ¼ã‚’è¡¨ç¤ºã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ hasCJKLanguage","title":"Hugo ã®è¨­å®š"},{"content":"ã¯ã˜ã‚ã« Quick Start | Hugo\nã¨ã‚Šã‚ãˆãšãƒ†ãƒ¼ãƒã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¡¨ç¤ºã™ã‚‹ã¨ã“ã‚ã¾ã§ã€‚\nHugo ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« % brew install hugo ã‚µã‚¤ãƒˆã®ä½œæˆ % hugo new site d.oppara.tv ãƒ†ãƒ¼ãƒã®è¿½åŠ  PaperMod ã¨ã„ã†ãƒ†ãƒ¼ãƒã‚’ä½¿ã£ã¦ã¿ã‚‹ã€‚\n% cd d.oppara.tv % git init % git add . % git commit -m \u0026#39;feat: initial commit\u0026#39; % git submodule add https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod % echo theme = \\\u0026#34;PaperMod\\\u0026#34; \u0026gt;\u0026gt; config.toml % git add . % git commit -m \u0026#39;fead: add theme\u0026#39; ãƒ†ãƒ¼ãƒã®æ›´æ–° % git submodule update --remote --merge ãƒ†ãƒ¼ãƒã®å‰Šé™¤ % git submodule deinit -f themes/PaperMod % git rm -f themes/PaperMod % rm -rf .git/modules/themes* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ä½œæˆ % hugo new posts/hoge.md % echo \u0026#39;hogehoge\u0026#39; \u0026gt;\u0026gt; content/posts/hoge.md .hugo_build.lockã‚’ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†å¤–ã«ã™ã‚‹ã€‚\n% echo \u0026#39;.hugo_build.lock\u0026#39; \u0026gt; .gitignore % git add .gitignore % git commit -m \u0026#39;Add .gitignore\u0026#39; ã‚µãƒ¼ãƒã®èµ·å‹• % hugo server -D ãƒ–ãƒ©ã‚¦ã‚¶ã§å‹•ä½œç¢ºèª % open http://localhost:1313/ ç’°å¢ƒ % sw_vers ProductName: macOS ProductVersion: 12.2 BuildVersion: 21D49 % hugo version hugo v0.93.3+extended darwin/amd64 BuildDate=unknown ","permalink":"https://d.oppara.tv/posts/2022/03/hugo-quick-start/","summary":"ã¯ã˜ã‚ã« Quick Start | Hugo ã¨ã‚Šã‚ãˆãšãƒ†ãƒ¼ãƒã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¡¨ç¤ºã™ã‚‹ã¨ã“ã‚ã¾ã§ã€‚ Hugo ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« % brew install hugo ã‚µã‚¤ãƒˆã®ä½œæˆ % hugo new site d.oppara.tv ãƒ†ãƒ¼ãƒã®è¿½åŠ ","title":"Hugo äº‹å§‹ã‚"}]